document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("forgotForm"),t=document.getElementById("email"),o=document.getElementById("formError"),s=document.getElementById("toast"),n=e=>{o.textContent=e,o.classList.remove("hidden")};e.addEventListener("submit",async e=>{e.preventDefault(),o.classList.add("hidden");const a=t.value.trim();if(a)try{const e=await fetch("/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),o=await e.json();e.ok?(((e="Password reset link sent!")=>{s.textContent=e,s.classList.remove("opacity-0"),s.classList.add("opacity-100"),setTimeout(()=>{s.classList.add("opacity-0")},3e3)})(o.message||"Reset link sent!"),t.value=""):n(o.error||"Failed to send reset link.")}catch(e){console.error("Error:",e),n("Network error. Please try again.")}else n("Please enter your email.")})});